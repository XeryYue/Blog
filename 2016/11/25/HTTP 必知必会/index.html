<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
    

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.4"/>


    <meta name="description" content="广东工业大学14级网络工程张翔" />



  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.4" />


<meta name="description" content="作为一个前端开发者，是后台数据的第一个消费者，并且日常与 AJAX 等前后端数据交互，如果对与 WEB 核心的 HTTP协议不熟悉实在是不应该，并且不了解 HTTP 协议的话，长时间下来有可能会成为你的短板。">
<meta property="og:type" content="article">
<meta property="og:title" content="HTTP 必知必会">
<meta property="og:url" content="http://zhangxiang958.github.io/2016/11/25/HTTP 必知必会/index.html">
<meta property="og:site_name" content="JARVIS's blog">
<meta property="og:description" content="作为一个前端开发者，是后台数据的第一个消费者，并且日常与 AJAX 等前后端数据交互，如果对与 WEB 核心的 HTTP协议不熟悉实在是不应该，并且不了解 HTTP 协议的话，长时间下来有可能会成为你的短板。">
<meta property="og:image" content="http://ofsur12wi.bkt.clouddn.com/general.png">
<meta property="og:image" content="http://ofsur12wi.bkt.clouddn.com/request.png">
<meta property="og:image" content="http://ofsur12wi.bkt.clouddn.com/response.png">
<meta property="og:updated_time" content="2017-01-05T14:31:48.309Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HTTP 必知必会">
<meta name="twitter:description" content="作为一个前端开发者，是后台数据的第一个消费者，并且日常与 AJAX 等前后端数据交互，如果对与 WEB 核心的 HTTP协议不熟悉实在是不应该，并且不了解 HTTP 协议的话，长时间下来有可能会成为你的短板。">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'always'
  };
</script>

    <title> HTTP 必知必会 // JARVIS's blog </title>
</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">
<!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->




<div class="container one-column page-post-detail">
    <div class="headband"></div>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">JARVIS's blog</span>
  </a>


</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
    <span class="logo-line-after"><i></i></span>

</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-home"></i> <br />
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-archives"></i> <br />
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            <i class="menu-item-icon icon-categories"></i> <br />
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-tags"></i> <br />
            标签
          </a>
        </li>
      
    </ul>
  

  
</nav>


        </div>
    </header>

    <main id="main" class="main">
        <div class="main-inner">
            <div id="content" class="content">
                

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              HTTP 必知必会
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2016-11-25T15:50:24+08:00" content="2016-11-25">
            2016-11-25
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分类于
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/HTTP/" itemprop="url" rel="index"><span itemprop="name">HTTP</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2016/11/25/HTTP 必知必会/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/25/HTTP 必知必会/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><p>作为一个前端开发者，是后台数据的第一个消费者，并且日常与 AJAX 等前后端数据交互，如果对与 WEB 核心的 HTTP<br>协议不熟悉实在是不应该，并且不了解 HTTP 协议的话，长时间下来有可能会成为你的短板。<br><a id="more"></a></p>
<h2 id="URL_与_URI">URL 与 URI</h2><p>提及 HTTP 协议，第一个部分肯定要知道 URL 是什么。<br>URI 解析格式：<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;scheme&gt;<span class="symbol">://&lt;username&gt;</span><span class="symbol">:&lt;password&gt;</span>@ <span class="symbol">host:</span>port/path/;&lt;params&gt;?&lt;query&gt;<span class="comment">#frag</span></span><br></pre></td></tr></table></figure></p>
<p>各字段：<br><strong>scheme</strong>：协议名，采用的是什么协议，例如 http，https，file 等。<br><strong>username,password</strong>: 网页的用户名与密码，现在的网页很少这样出现在 url 中。<br><strong>host, port</strong>: 主机域名与端口号。<br><strong>params</strong>: 参数，用于请求的传参，前面使用 ; 来分割区分。<br><strong>query</strong>: 查询字符串，前面使用 ? 来分割区分，多用于 GET 请求的传参。<br><strong>frag</strong>: 前面用 # 来分割，表示文档片段，以前常见于 a 标签的点击后显示，现多用于单页面应用提高页面速度，<br>使用 hashchange 事件监听。</p>
<p>URI 表示的是更为广泛的唯一资源标识符，而 URL 表示的是特殊的 URI，表示唯一资源定位符。</p>
<h2 id="HTTP_报文">HTTP 报文</h2><p>HTTP 有两种报文，一种是客户端发送请求时的请求报文，一种是服务端响应客户端请求时的响应报文。我们来看一些<br>真实的 HTTP 报文段这样可以方便真正理解。</p>
<h3 id="请求报文">请求报文</h3><p>先来看通用头部：<br><img src="http://ofsur12wi.bkt.clouddn.com/general.png" alt=""></p>
<p><strong>Request URL</strong>: 请求的 url，这里可以看到请求的 url 是 <a href="https://www.baidu.com/，即通俗的" target="_blank" rel="external">https://www.baidu.com/，即通俗的</a> ajax 请求中的 url。<br><strong>Request Method</strong>: GET, 这里请求方法是使用 GET 方法，除了 GET ，还有 POST ，DELETE，PUT 等请求。<br><strong>Status Code: 200 OK</strong>, 这里是状态码，前面的 200 是 HTTP 状态码，后面的 OK 是状态码的文本信息。<br><strong>Remote Address</strong>：从字面上看就很好理解，这是远程服务器的 IP 地址与端口号，这里 IP 地址是 14.215.177.37，<br>端口号是 443。</p>
<p>一个百度首页的请求首部：<br><img src="http://ofsur12wi.bkt.clouddn.com/request.png" alt=""><br><strong>Accept</strong>：接收文档/信息的格式，这里可以看到文档格式有 text/html, application/xhtml+xml, application/xml,<br>image/webp，前面三个表示的是文本文件，后面一个是表示图像文件的格式，其中看到报文中有 q=0.9/0.8 这样的字样<br>表明的是文档格式的优先级，默认优先级为 1, 优先级设置是 0 - 1,形如 0.9,0.8 等，使用 ；来隔开，这里的意思是<br>文本文档的优先级为 0.9,优于图像文件的优先级 0.8。<br><strong>Accept-Encoding</strong>: 文档的压缩模式，使用 gzip 压缩的文档优先。<br><strong>Accept-Language</strong>: 文档语言类型，这里是 zh-CN 表示采用中文编码。<br><strong>Cache-Control</strong>: 缓存控制字段，max-age 表示缓存有效时间，max-age=0 表示缓存服务器不对资源有效性验证，直<br>接将请求转给源服务器。<br><strong>Connection</strong>: 有两个值，一个是 close，一个是 keep-alive。区别请阅读下面的 HTTP 持久链接章节。<br><strong>Cookie</strong>: 这里存储的值就是我们常说的 cookie 了，也就是需要在客户端较长时间存储的信息。<br><strong>Host</strong>: 主机域名。<br><strong>Referer</strong>: 说明发起这个请求的原始资源 URL。<br><strong>User-Agent</strong>: 用户代理，一般是用于判别浏览器的类别。从这里可以知道访问的是哪种浏览器。</p>
<p>另外增加几个这里没有体现但我觉得同样重要的首部字段：<br><strong>If-Modified-since</strong>: 可能有一些敏感的同学会注意到有时候我们访问某个 html 文件或者图像文件的时候，看控制<br>台的信息的时候会看到 304 状态码，而 304 与这里的 If-Modified-since 有关，浏览器会缓存一些静态文件，当再次<br>访问这些文件的时候，浏览器会发出一个条件 GET 请求，如果文件的修改日期与原先的相同，那么就认为文件没有修改<br>就会继续使用本地的缓存文件，极大节约了带宽，此时返回的状态码就是 304 Not Modified。 </p>
<h3 id="响应报文">响应报文</h3><p><img src="http://ofsur12wi.bkt.clouddn.com/response.png" alt=""><br><strong>Cache-Control</strong>: 缓存控制字段，这里使用 no-cache ，表示不缓存文件，强制客户端向服务器确认文件有效性。<br><strong>Connection</strong>: 说明持久链接的，请阅读下面的 HTTP 链接章节。<br><strong>Content-Encoding</strong>: 文档的压缩模式。使用 gzip 模式。<br><strong>Content-Length</strong>: 文档文件长度。这里有 56821 字节。<br><strong>Content-Type</strong>: 文档类型，这里是 text/html 的 html 文档，使用 utf-8 编码。<br><strong>Date</strong>:<br><strong>Server</strong>: 表明使用的服务器的版本，类型等，与客户端的 User-Agent 字段类似。<br><strong>Set-Cookie</strong>: 通知客户端创建一个 cookie 文件，设置保存路径为 /，存储的值。</p>
<p>另外有一个我觉得挺有用的字段：<br><strong>ETag</strong>：服务器会为每一个服务器上的文件创建一个 Etag 记录，来区分文件的不同，一个简单的例子就是一些网站<br>域名相同，但是中文的系统访问的是中文网页，英文系统访问的是英文网页。</p>
<h2 id="HTTP_状态码">HTTP 状态码</h2><h3 id="类别">类别</h3><ol>
<li>1xx  信息状态码</li>
<li>2xx  成功状态码</li>
<li>3xx  重定向状态码</li>
<li>4xx  一般是客户端错误</li>
<li>5xx  一般是服务端错误</li>
</ol>
<h3 id="例子">例子</h3><p>404：页面或请求无法找到。<br>500：服务器出错。<br>502：服务器错误，一般是后台代码语法有错。</p>
<h2 id="HTTP_缓存">HTTP 缓存</h2><p>HTTP 缓存作为 HTTP 协议的一大部件，是相当重要的。</p>
<h3 id="缓存服务器">缓存服务器</h3><p>一般来说，网络服务运营商都会有自己的缓存服务器，缓存服务器最大的作用就是缩短访问文件的时间，减轻源服务器<br>的压力。<br>缓存服务器会将客户端访问过的文件缓存起来，设置一个过期时间，或者客户端使用 cache-control 字段来控制缓存。</p>
<h3 id="如何保证客户端访问的文件是有效且最新版本">如何保证客户端访问的文件是有效且最新版本</h3><p>在访问的静态文件后面加上版本号，例如 ?version=123 这样的字样，在前端这边我一般会使用 gulp-rev 这个插件去<br>动态地替换静态文件的引用，这样保证线上版本是引用了你想要的最新的版本。</p>
<h2 id="HTTP_持久链接">HTTP 持久链接</h2><p>HTTP 中的 connection 中有两个值，一个是 close， 一个是 kepp-alive。在 HTTP 1.0 以前的版本，HTTP 的链接是<br>默认 close 值的，而在 HTTP 1.1 之后，则默认 connection：keep-alive。</p>
<h3 id="持久连接与非持久连接的对比">持久连接与非持久连接的对比</h3><p>一个 HTML 文档中，不仅仅包含了 HTML 结构，很多时候在今时今日，一个 HTML 文件会包含很多像 CSS 样式文件，<br>image 图像文件，script 的 js 文件的引用，但是如果假设这些静态文件都放置在服务器上，在 HTTP 1.0 以前的<br>版本中，浏览器与服务器之间会先建立一个 HTTP 链接传输完 HTML 文件后关闭连接，然后另外为所引用的文件建立<br>连接来传输。如果是这样，会消耗很多时间与带宽在建立 TCP 连接上，TCP 需要三次握手，而每一个静态文件都需要<br>这样一个连接来传输，无疑是灾难。<br>而在 HTTP 1.1 后的 HTTP 版本，采用了 keep-alive 持久连接，一旦建立起一个 HTTP 连接之后，如果该 HTML 所引<br>用的位于服务器上的静态文件会继续使用这个连接而无需重新建立连接。</p>
<h2 id="Session_与_Cookie">Session 与 Cookie</h2><p>从字面上来说，session 是一次会话，cookie 则会较长时间地保存某些信息。其实实际上，session 也是建立在 cookie 上的。<br>因为 HTTP 的无状态，这个在一方面提供给 HTTP 快速便捷地传输，但是在另一方面面对今日的复杂的业务需求，它可<br>能力不从心。因此为了提供记录状态，出现了 sesison 与 cookie 技术。</p>
<h3 id="Cookie">Cookie</h3><p>cookie 是非常常用的，它的用途非常广泛，可以跨页面通信，可以记录用户访问记录以达到推荐某些符合用户需求的<br>内容。可惜的是，在客户端没有相对应便捷的函数能够便捷调用 cookie ，必需自己封装一个函数来调用 cookie。<br>但今天我不想在这里谈及 cookie 函数的实现，详细情况请阅读本人的 Vue 项目总结。今天我想说明 cookie 的各个属性。</p>
<p>各属性如下：<br><strong>domain</strong>: 域名，某域名下的 cookie，一般不设置，因为 XSS 攻击容易获取某个域名下的 cookie。<br><strong>path</strong>: cookie 文件存放路径。<br><strong>secure</strong>: 安全属性，设置为 HTTPOnly 可以防止 XSS 攻击。<br><strong>expires</strong>: 过期时间。</p>
<p>服务端可以通过 set-cookie 来通知客户端来创建一个 cookie，一旦有请求就将 cookie 里面的存值传给服务端。这<br>也就是为什么不建议 cookie 存储过多信息，因为会增加请求压力。</p>
<h3 id="Session">Session</h3><p>session 与 cookie 不同，session 的值是存在服务端的，所以不像 cookie 那样安全性较低，但是相对应的会增加服<br>务器的压力，一般来说 session 在各大后端框架都有封装，像 express 3.x  可以使用 express.session 来设置 session。一般会使用 session 来做二次免登录，免于泄露密码与用户信息。</p>
<h2 id="常见的_WEB_攻击">常见的 WEB 攻击</h2><p>因为 HTTP 自身的来者不拒，传输不加密的特点，虽然是 HTTP 能够快速方便地传输，但是也使得 HTTP 协议不安全。<br>常见的 WEB 攻击有 XSS 攻击，SQL 注入攻击，会话劫持等。</p>
<h3 id="XSS_攻击">XSS 攻击</h3><p>XSS 攻击，相信大家会有所耳闻，但是它的中文名其实叫做跨站脚本攻击。它有三种类型，储存型、反射型、DOM 型。<br>储存型是将脚本留在服务器中，不断地从内部发出攻击。<br>反射型是诱导用户点击某些链接而后发送了自己的信息给攻击者，攻击者利用这样的信息攻击服务器。<br>DOM 型是本地行为，在更新 DOM 节点的时候发生。<br>防御 XSS 攻击一般有在两端（客户端，服务端）都加上数据验证，验证数据是否正确且从真正的源发出，另外还有对<br>数据进行转码，或在 HTTP 头部加上 X-XSS-Protection=1 这样的头部。<br>编码其实一方面为了能够保证传输参数的正确性，另一方面是为了防止黑客的直接注入。编码降低了潜在的语义攻击。<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">当构建参数传入&#123;“name” : ”Mitty&amp;<span class="variable">isLogin=</span><span class="constant">true</span>”&#125;。此时拼接字符串编成了http://www.baidu.com?<span class="variable">name=</span>Mitty&amp;<span class="variable">isLogin=</span><span class="constant">true</span>，如果isLogin真的是有意义的queryKey时，直接造成服务器接收了额外的参数。</span><br></pre></td></tr></table></figure></p>
<h3 id="SQL_注入">SQL 注入</h3><p>SQL 注入生效需要两个先决事件，1.需要使用 SQL 操作数据库，2.用户传入的数据直接被写入数据库中。<br>为了预防这个，可以对 url 编码并对用户的输入进行验证。</p>
<h3 id="DDOS_攻击">DDOS 攻击</h3><p>全名叫做分布式拒绝服务攻击，举个很简单的例子就是像麦当劳里面闲坐的人太多会导致真正想吃东西的客户没有座位<br>坐下来。<br>常见的 DDOS 攻击手段有 TCP SYN 泛洪，TCP ACK 泛洪，DNS 查询泛洪等。</p>
<h3 id="CSRF">CSRF</h3><p>中文名叫跨站请求伪造，利用 A 网站访问后的信任关系，登录 B 网站，B 网站可以利用这个信任关系，来访问网站。<br>这也就是为什么不建议开启跨域请求首部的原因，限定调用请求的网站有助于安全建立。<br>预防 CSRF 可以检查 token，token 是请求时候生成的一个 token，每个用户有一个特殊的 token，也就是令牌验证。<br>或检查请求头部 source origin == target origin ？ 是否同源。</p>
<h2 id="附录：">附录：</h2><h3 id="max-age=0_与_no-cache_有什么不同？">max-age=0 与 no-cache 有什么不同？</h3><p>有区别，设置 max-age 浏览器还是会缓存文件的，但是 no-chache 就不会缓存文件，max-age=0 设置之后再次访问<br>浏览器只会发起一个条件 GET 请求，强制向源服务器询问是否过期，如果不过期则会使用本地缓存，但是 no-chache<br>每次都会请求一个全新的文件。</p>
<h3 id="max-age_与_expires_哪个更有效？">max-age 与 expires 哪个更有效？</h3><p>Expires 在 HTTP 1.0 之前就已经制定了，而 cache-control 的 max-age 是在 HTTP 1.1 之后才制定的，所以想要更<br>有效地制定有效时间光用 max-age 是不行的。Expires 的时间如果客户端与服务端不一致的话，会导致 Expires 配置<br>出错。max-age 是指文档被访问之后的存活时间，而 Expires 指的是文件的最后访问时间，max-age 指的是文档请求时<br>间。</p>
<h3 id="如何在_HTML_页面使用_HTTP_头部的设置?">如何在 HTML 页面使用 HTTP 头部的设置?</h3><p>方法:使用 meta 标签<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta <span class="variable">http-equiv=</span><span class="string">"Cache-Control"</span> <span class="variable">content=</span><span class="string">"no-cache"</span> /&gt;</span><br><span class="line">&lt;meta <span class="variable">http-equiv=</span><span class="string">"expires"</span> <span class="variable">content=</span><span class="string">"...date"</span> /&gt;</span><br><span class="line">&lt;meta <span class="variable">http-equiv=</span><span class="string">"cache-control"</span> <span class="variable">content=</span><span class="string">"public"</span> /&gt;</span><br></pre></td></tr></table></figure></p>
</span>
      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/12/20/script 标签的 defer 与 async/" rel="prev">script 标签的 defer 与 async</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/09/18/Parse 系列之 Parse Dashboard 搭建（译）/" rel="next">Parse 系列之 Parse Dashboard 搭建（译）</a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="2016/11/25/HTTP 必知必会/"
     data-title="HTTP 必知必会"
     data-content=""
     data-url="http://zhangxiang958.github.io/2016/11/25/HTTP 必知必会/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

    </ul>
    <div class="ds-share-icons-more">
    </div>
  </div>
</div>
      
    </div>
  </div>


            </div>

            

            
              <div class="comments" id="comments">
                
                  <div class="ds-thread" data-thread-key="2016/11/25/HTTP 必知必会/"
                       data-title="HTTP 必知必会" data-url="http://zhangxiang958.github.io/2016/11/25/HTTP 必知必会/">
                  </div>
                
              </div>
            
        </div>

        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="http://7xns9g.com1.z0.glb.clouddn.com/015630179.jpg" alt="JARVIS" itemprop="image"/>
          <p class="site-author-name" itemprop="name">JARVIS</p>
        </div>
        <p class="site-description motion-element" itemprop="description">广东工业大学14级网络工程张翔</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">53</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">17</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/zhangxiang958" target="_blank">github</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/zhang-xiang-78-5" target="_blank">zhihu</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="zxiang702" target="_blank">WeChat</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="958033967" target="_blank">QQ</a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#URL_与_URI"><span class="nav-number">1.</span> <span class="nav-text">URL 与 URI</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP_报文"><span class="nav-number">2.</span> <span class="nav-text">HTTP 报文</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#请求报文"><span class="nav-number">2.1.</span> <span class="nav-text">请求报文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#响应报文"><span class="nav-number">2.2.</span> <span class="nav-text">响应报文</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP_状态码"><span class="nav-number">3.</span> <span class="nav-text">HTTP 状态码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#类别"><span class="nav-number">3.1.</span> <span class="nav-text">类别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#例子"><span class="nav-number">3.2.</span> <span class="nav-text">例子</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP_缓存"><span class="nav-number">4.</span> <span class="nav-text">HTTP 缓存</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#缓存服务器"><span class="nav-number">4.1.</span> <span class="nav-text">缓存服务器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何保证客户端访问的文件是有效且最新版本"><span class="nav-number">4.2.</span> <span class="nav-text">如何保证客户端访问的文件是有效且最新版本</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP_持久链接"><span class="nav-number">5.</span> <span class="nav-text">HTTP 持久链接</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#持久连接与非持久连接的对比"><span class="nav-number">5.1.</span> <span class="nav-text">持久连接与非持久连接的对比</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Session_与_Cookie"><span class="nav-number">6.</span> <span class="nav-text">Session 与 Cookie</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Cookie"><span class="nav-number">6.1.</span> <span class="nav-text">Cookie</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Session"><span class="nav-number">6.2.</span> <span class="nav-text">Session</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常见的_WEB_攻击"><span class="nav-number">7.</span> <span class="nav-text">常见的 WEB 攻击</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#XSS_攻击"><span class="nav-number">7.1.</span> <span class="nav-text">XSS 攻击</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL_注入"><span class="nav-number">7.2.</span> <span class="nav-text">SQL 注入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DDOS_攻击"><span class="nav-number">7.3.</span> <span class="nav-text">DDOS 攻击</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSRF"><span class="nav-number">7.4.</span> <span class="nav-text">CSRF</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#附录："><span class="nav-number">8.</span> <span class="nav-text">附录：</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#max-age=0_与_no-cache_有什么不同？"><span class="nav-number">8.1.</span> <span class="nav-text">max-age=0 与 no-cache 有什么不同？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#max-age_与_expires_哪个更有效？"><span class="nav-number">8.2.</span> <span class="nav-text">max-age 与 expires 哪个更有效？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何在_HTML_页面使用_HTTP_头部的设置?"><span class="nav-number">8.3.</span> <span class="nav-text">如何在 HTML 页面使用 HTTP 头部的设置?</span></a></li></ol></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
        <div class="footer-inner">
            <div class="copyright" >
  
  &copy; &nbsp; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JARVIS</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


  <span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

        </div>
    </footer>

    <div class="back-to-top"></div>
</div>

<script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"zhangxiang"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     
  	<script src="/js/ua-parser.min.js"></script>
  	<script src="/js/hook-duoshuo.js"></script>
  

    
  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.4"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.4"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.4" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>


  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.4" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    var $tocContent = $('.post-toc-content');
    if (isDesktop() && CONFIG.sidebar === 'post') {
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
        displaySidebar();
      }
    }
  });
</script>



<script type="text/javascript">
    $(document).ready(function () {
        if (CONFIG.sidebar === 'always') {
            displaySidebar();
        }
    });
</script>








<!-- lazyload -->
<script type="text/javascript" src="/js/lazyload.js"></script>
<script type="text/javascript">
    jQuery(function () {
        jQuery("#posts img").lazyload({
            placeholder: "/images/loading.gif",
            effect: "fadeIn"
        });
    });
</script>
</body>
</html>
